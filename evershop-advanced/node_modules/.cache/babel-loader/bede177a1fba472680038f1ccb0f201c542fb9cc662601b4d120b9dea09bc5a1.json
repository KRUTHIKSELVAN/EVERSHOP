{"ast":null,"code":"var _jsxFileName = \"E:\\\\Amrita  Btech AIE 2022-26\\\\React\\\\evershop-advanced\\\\src\\\\context\\\\CartContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      const existingItem = state.items.find(item => item.id === action.payload.id && item.selectedColor === action.payload.selectedColor && item.selectedSize === action.payload.selectedSize);\n      if (existingItem) {\n        return {\n          ...state,\n          items: state.items.map(item => item.id === action.payload.id && item.selectedColor === action.payload.selectedColor && item.selectedSize === action.payload.selectedSize ? {\n            ...item,\n            quantity: item.quantity + action.payload.quantity\n          } : item)\n        };\n      }\n      return {\n        ...state,\n        items: [...state.items, action.payload]\n      };\n    case 'REMOVE_FROM_CART':\n      return {\n        ...state,\n        items: state.items.filter(item => item.cartId !== action.payload)\n      };\n    case 'UPDATE_QUANTITY':\n      return {\n        ...state,\n        items: state.items.map(item => item.cartId === action.payload.cartId ? {\n          ...item,\n          quantity: action.payload.quantity\n        } : item)\n      };\n    case 'CLEAR_CART':\n      return {\n        ...state,\n        items: []\n      };\n    case 'TOGGLE_CART':\n      return {\n        ...state,\n        isOpen: !state.isOpen\n      };\n    default:\n      return state;\n  }\n};\nconst initialState = {\n  items: [],\n  isOpen: false\n};\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n  useEffect(() => {\n    const savedCart = localStorage.getItem('cart');\n    if (savedCart) {\n      const parsedCart = JSON.parse(savedCart);\n      parsedCart.items.forEach(item => {\n        dispatch({\n          type: 'ADD_TO_CART',\n          payload: item\n        });\n      });\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(state));\n  }, [state]);\n  const addToCart = (product, quantity = 1, selectedColor, selectedSize) => {\n    const cartItem = {\n      ...product,\n      quantity,\n      selectedColor,\n      selectedSize,\n      cartId: `${product.id}-${selectedColor}-${selectedSize}-${Date.now()}`\n    };\n    dispatch({\n      type: 'ADD_TO_CART',\n      payload: cartItem\n    });\n    toast.success(`${product.name} added to cart!`);\n  };\n  const removeFromCart = cartId => {\n    dispatch({\n      type: 'REMOVE_FROM_CART',\n      payload: cartId\n    });\n    toast.info('Item removed from cart');\n  };\n  const updateQuantity = (cartId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(cartId);\n      return;\n    }\n    dispatch({\n      type: 'UPDATE_QUANTITY',\n      payload: {\n        cartId,\n        quantity\n      }\n    });\n  };\n  const clearCart = () => {\n    dispatch({\n      type: 'CLEAR_CART'\n    });\n    toast.success('Cart cleared');\n  };\n  const toggleCart = () => {\n    dispatch({\n      type: 'TOGGLE_CART'\n    });\n  };\n  const getTotalItems = () => {\n    return state.items.reduce((total, item) => total + item.quantity, 0);\n  };\n  const getTotalPrice = () => {\n    return state.items.reduce((total, item) => total + item.price * item.quantity, 0);\n  };\n  const value = {\n    ...state,\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    clearCart,\n    toggleCart,\n    getTotalItems,\n    getTotalPrice\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"GUSXxL/WUElrtHc/X73NyHNRMdw=\");\n_c = CartProvider;\nexport const useCart = () => {\n  _s2();\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};\n_s2(useCart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","toast","jsxDEV","_jsxDEV","CartContext","cartReducer","state","action","type","existingItem","items","find","item","id","payload","selectedColor","selectedSize","map","quantity","filter","cartId","isOpen","initialState","CartProvider","children","_s","dispatch","savedCart","localStorage","getItem","parsedCart","JSON","parse","forEach","setItem","stringify","addToCart","product","cartItem","Date","now","success","name","removeFromCart","info","updateQuantity","clearCart","toggleCart","getTotalItems","reduce","total","getTotalPrice","price","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCart","_s2","context","Error","$RefreshReg$"],"sources":["E:/Amrita  Btech AIE 2022-26/React/evershop-advanced/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { toast } from 'react-toastify';\n\nconst CartContext = createContext();\n\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      const existingItem = state.items.find(item => \n        item.id === action.payload.id && \n        item.selectedColor === action.payload.selectedColor &&\n        item.selectedSize === action.payload.selectedSize\n      );\n      \n      if (existingItem) {\n        return {\n          ...state,\n          items: state.items.map(item =>\n            item.id === action.payload.id && \n            item.selectedColor === action.payload.selectedColor &&\n            item.selectedSize === action.payload.selectedSize\n              ? { ...item, quantity: item.quantity + action.payload.quantity }\n              : item\n          )\n        };\n      }\n      \n      return {\n        ...state,\n        items: [...state.items, action.payload]\n      };\n      \n    case 'REMOVE_FROM_CART':\n      return {\n        ...state,\n        items: state.items.filter(item => item.cartId !== action.payload)\n      };\n      \n    case 'UPDATE_QUANTITY':\n      return {\n        ...state,\n        items: state.items.map(item =>\n          item.cartId === action.payload.cartId\n            ? { ...item, quantity: action.payload.quantity }\n            : item\n        )\n      };\n      \n    case 'CLEAR_CART':\n      return {\n        ...state,\n        items: []\n      };\n      \n    case 'TOGGLE_CART':\n      return {\n        ...state,\n        isOpen: !state.isOpen\n      };\n      \n    default:\n      return state;\n  }\n};\n\nconst initialState = {\n  items: [],\n  isOpen: false\n};\n\nexport const CartProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n\n  useEffect(() => {\n    const savedCart = localStorage.getItem('cart');\n    if (savedCart) {\n      const parsedCart = JSON.parse(savedCart);\n      parsedCart.items.forEach(item => {\n        dispatch({ type: 'ADD_TO_CART', payload: item });\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(state));\n  }, [state]);\n\n  const addToCart = (product, quantity = 1, selectedColor, selectedSize) => {\n    const cartItem = {\n      ...product,\n      quantity,\n      selectedColor,\n      selectedSize,\n      cartId: `${product.id}-${selectedColor}-${selectedSize}-${Date.now()}`\n    };\n    \n    dispatch({ type: 'ADD_TO_CART', payload: cartItem });\n    toast.success(`${product.name} added to cart!`);\n  };\n\n  const removeFromCart = (cartId) => {\n    dispatch({ type: 'REMOVE_FROM_CART', payload: cartId });\n    toast.info('Item removed from cart');\n  };\n\n  const updateQuantity = (cartId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(cartId);\n      return;\n    }\n    dispatch({ type: 'UPDATE_QUANTITY', payload: { cartId, quantity } });\n  };\n\n  const clearCart = () => {\n    dispatch({ type: 'CLEAR_CART' });\n    toast.success('Cart cleared');\n  };\n\n  const toggleCart = () => {\n    dispatch({ type: 'TOGGLE_CART' });\n  };\n\n  const getTotalItems = () => {\n    return state.items.reduce((total, item) => total + item.quantity, 0);\n  };\n\n  const getTotalPrice = () => {\n    return state.items.reduce((total, item) => total + (item.price * item.quantity), 0);\n  };\n\n  const value = {\n    ...state,\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    clearCart,\n    toggleCart,\n    getTotalItems,\n    getTotalPrice\n  };\n\n  return (\n    <CartContext.Provider value={value}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const useCart = () => {\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}